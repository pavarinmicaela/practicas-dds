<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Ejercicio 2: Inscripción al Congreso Internacional</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
    <link rel="stylesheet" href="./font-awesome-4.7.0/css/font-awesome.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0px;
        }

        header {
            margin: auto;
        }

        form {
            max-width: 600px;
            margin: auto;
            padding: 15px;
        }

        /* Estilo para el bloque de expositores */
        #expositorFields {
            display: none;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js" integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq" crossorigin="anonymous"></script>
    <script> 
        function toggleFields(value) {
            var expositorBlock = document.getElementById("expositorFields");
            var pagoBlock = document.getElementById("pagoField"); 
            if (value === "expositor") { 
                const archivo = document.getElementById("archivo");
                
                expositorBlock.style.display = "block";
                pagoBlock.style.display = "none";
                archivo.setAttribute("required", true);
            } else { 
                expositorBlock.style.display = "none"; 
                pagoBlock.style.display = "block"; 
            } 
        } 
        function pagar(){
            alert('Redirigiendo a Mercado Pago...')
        }
    </script>
</head>

<body style="background-image: url('img/world.jpg'); background-repeat: no-repeat; background-size: 100%; background-color: rgba(255,255,255,0.15); background-blend-mode: lighten;">
    <header class="p-4 bg-secondary bg-gradient bg-opacity-50">
        <div class="row text-center text-light">
            <h1 class="card-title">Inscripción al Congreso Internacional</h1>
            <p class="card-text">Complete el formulario para inscribirse al congreso.</p>
        </div>
    </header>
    <div class="d-flex justify-content-center align-items-start">
        <form action="#" method="post" id="conference-form" enctype="multipart/form-data" autocomplete="off" class="row shadow-lg bg-body-tertiary rounded m-3" novalidate>
            <fieldset class="mb-2">
                <legend class="fw-bold fs-5 text-dark">
                    <i class="fa fa-user" aria-hidden="true"></i>
                    Datos Personales
                </legend>
                
                <div class="form-floating mb-2 fs-6">
                    <input type="text" class="form-control" id="nombre" name="nombre" placeholder="Nombre" required>
                    <label for="nombre">Nombre</label>
                    <div class="invalid-feedback">
                        Por favor ingrese su nombre
                    </div>
                    <div class="form-text">ej. Juan</div>
                </div>

                <div class="form-floating mb-2 fs-6">
                    <input type="text" class="form-control" id="apellido" name="apellido" placeholder="Apellido" required>
                    <label for="apellido">Apellido</label>
                    <div class="invalid-feedback">
                        Por favor ingrese su apellido
                    </div>
                    <div class="form-text">ej. Perez</div>
                </div>

                <div class="form-floating mb-2">
                    <input type="email" class="form-control" id="email" name="email" placeholder="Correo Electrónico" required>
                    <label for="email">Correo Electrónico</label>
                    <div class="invalid-feedback">
                        Por favor ingrese un email válido
                    </div>
                    <div class="form-text">ejemplo@correo.com</div>
                </div>

                <div class="form-floating mb-2">
                    <input type="text" class="form-control" id="documento" name="documento" placeholder="Documento" pattern="[0-9]{7,8}" required>
                    <label for="documento">Número de Documento</label>
                    <div class="invalid-feedback">
                        Por favor ingrese un documento válido
                    </div>
                    <div class="form-text">ej. 22333444</div>
                </div>  
                <hr/>
            </fieldset>
    
            <fieldset class="mb-2">
                <legend class="fw-bold fs-5 text-dark">
                    <i class="fa fa-pencil-square" aria-hidden="true"></i>
                    Tipo de Inscripción
                </legend>
                
                <select class="form-select" id="tipoInscripcion" name="tipoInscripcion" onchange="toggleFields(this.value)" required>
                    <option value="asistente" selected>Asistente</option>
                    <option value="expositor">Expositor</option>
                </select>
                <div class="form-text">Los expositores deberán subir su trabajo</div>
            </fieldset>
            <hr/>
    
            <fieldset id="expositorFields">
                <legend class="fw-bold fs-5 text-dark">
                    <i class="fa fa-file" aria-hidden="true"></i>
                    Trabajo del Expositor
                </legend>
                <input type="file" class="form-control" id="archivo" name="archivo" accept="application/pdf,.doc,.docx">
                <div class="invalid-feedback">
                    Por favor seleccione un archivo
                </div>
                <div class="form-text">Seleccione el archivo de su trabajo (.pdf, .doc, .docx)</div>
                <hr/>
            </fieldset>
    
            <fieldset id="pagoField" class="col-md-12 mb-2">
                <legend class="fw-bold fs-5 text-dark">
                    <i class="fa fa-credit-card-alt" aria-hidden="true"></i>
                    Información de Pago
                </legend>
                <button type="button" class="btn text-light p-2" style="background-color: #009ee3; font-size: 14px; font-weight: 600;" onclick="pagar()">
                    <img src="img/mp.png" width="41" height="28" class="me-2"> Pagar con Mercado Pago
                </button>
                <div class="form-text">El pago se realizará exclusivamente a través de Mercado Pago.</div>
                <hr/>
            </fieldset>
    
            <button type="submit" class="btn btn-success">Enviar Inscripción</button>
        </form>
    </div>

    <script>
        const form = document.getElementById('conference-form');

        form.addEventListener('submit', function (event) {
            event.preventDefault();

            if (!form.checkValidity()) {
                event.stopPropagation();
                form.classList.add('was-validated');
                return;
            }

            alert('Su inscripción ha sido registrada correctamente.');
            toggleFields("asistente")
            form.reset();
            form.classList.remove('was-validated');
        });
    </script>
</body>

</html>